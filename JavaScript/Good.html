<html>

<head>
    <title>Good</title>
</head>

<body>
    <script>

        function clicked() {
            fetch("http://127.0.0.1:8080/hello/10000")
                .then(function (response) {
                    return response.text();
                })
                .then(function (text) {
                    document.getElementById("message").innerHTML = text;
                })
                .catch(function (error) {
                    console.log("Error: " + error);
                })
                .finally(function () {
                    document.getElementById("button").disabled = false;
                });
                document.getElementById("message").innerHTML = "waiting";
                document.getElementById("button").disabled = true;
        }

    </script>
    <p>
        <button id="button" text="Click" onclick="clicked()">Click!</button>
    </p>
    <p id="message">Not clicked</p>
</body>

</html>